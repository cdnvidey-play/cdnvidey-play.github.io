<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Watch Video</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="referrer" content="no-referrer-when-downgrade" />

<link rel="icon" href="https://videy.co/favicon.ico">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:-apple-system,BlinkMacSystemFont,Arial,sans-serif;
  background:#fff;
  color:#111;
}

/* ===== TOP BAR ===== */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;
  border-bottom:1px solid #eee;
}

.topbar span{
  font-size:18px;
  font-weight:700;
}

/* ===== SHARE BUTTON ===== */
.share-btn{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 14px;
  border-radius:999px;
  border:none;
  background:#f3f4f6;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
}

.share-btn:hover{background:#e5e7eb}

.share-btn svg{
  width:18px;
  height:18px;
}

/* ===== VIDEO ===== */
.video-wrap{
  width:100vw;
  margin-left:calc(-50vw + 50%);
  aspect-ratio:16/9;
  background:#000;
}

video{
  width:100%;
  height:100%;
  object-fit:contain;
  background:#000;
}

/* ===== CONTENT ===== */
.content{
  padding:10px 12px;
}

/* ===== BANNER ===== */
#ad-300x250{
  width:300px;
  max-width:100%;
  height:250px;
  margin:14px auto 8px;
  display:flex;
  justify-content:center;
  align-items:center;
}

/* ===== FOOTER ===== */
.footer-links{
  display:flex;
  justify-content:center;
  gap:24px;
  padding:16px 0 22px;
}

.footer-links a{
  font-size:12px;
  color:#9ca3af;
  text-decoration:none;
}

.footer-links a:hover{color:#111}

/* ===== DESKTOP ===== */
@media(min-width:768px){
  .video-wrap{
    width:100%;
    margin-left:0;
    border-radius:12px;
    overflow:hidden;
  }

  .content{
    max-width:900px;
    margin:auto;
  }

  .topbar span{font-size:22px}
}
</style>
</head>

<body>

<!-- ===== HEADER ===== -->
<div class="topbar">
  <span>Videy</span>
  <button class="share-btn" id="shareBtn">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
      <polyline points="16 6 12 2 8 6"/>
      <line x1="12" y1="2" x2="12" y2="15"/>
    </svg>
    Share video
  </button>
</div>

<!-- ===== VIDEO ===== -->
<div class="video-wrap">
  <video id="video" controls autoplay playsinline preload="metadata"
    controlsList="nodownload nofullscreen noplaybackrate">
    Your browser does not support the video tag.
  </video>
</div>

<div class="content">

  <!-- ===== ADS ===== -->
  <div id="ad-300x250">
    <!-- iklan lo -->
  </div>

</div>

<!-- ===== FOOTER ===== -->
<div class="footer-links">
  <a href="#">Terms of Service</a>
  <a href="#">Report Abuse</a>
</div>

<script>
/* ===== AMBIL ID DARI PATH ===== */
let path = location.pathname.replace(/^\/+|\/+$/g,'');
let id = path.split('/')[0];

if(!id){
  document.body.innerHTML =
    "<h2 style='text-align:center;margin-top:40px'>Video not found</h2>";
  throw new Error("Missing ID");
}

/* title ikut ID */
document.title = "Watch " + id + " | videy";

const video = document.getElementById("video");
const base = "https://cdn.videy.co/" + id;

video.src = base + ".mp4";

video.onerror = () => {
  if(!video.dataset.fallback){
    video.dataset.fallback = "1";
    video.src = base + ".mov";
  }
};

/* ===== SHARE ===== */
document.getElementById("shareBtn").onclick = () => {
  if (navigator.share) {
    navigator.share({
      title: document.title,
      url: location.href
    });
  } else {
    navigator.clipboard.writeText(location.href);
    alert("Link copied");
  }
};
</script>

</body>
</html>
